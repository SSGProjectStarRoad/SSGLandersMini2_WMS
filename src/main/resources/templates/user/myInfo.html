<!DOCTYPE html>
<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:th="http://www.thymeleaf.org"
      layout:decorate="~{layout/layout.html}">

<head>
    <title>My Info</title>
    <link th:href="@{/css/userlist.css}" rel="stylesheet"/>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
</head>
<body>
<form id="myInfoForm" class="myInfo" th:action="@{user/myInfo}" method="post">

    <div class="main" layout:fragment="content">
        <div class="main-background"></div>
        <div class="main-box">
            <h1>내 정보 관리</h1>
            <div class="myInfobox">
                <!-- <div class="modal" id="myModal" aria-hidden="true" style="display: block; z-index: 1050; backdrop-filter: blur(5px);"> -->
                <!-- <div class="modal-dialog modal-lg"> -->
                <div class="modal-content">
                    <div class="modal-header">
                        <!-- <h1 class="modal-title fs-5">내 정보 수정</h1> -->

                    </div>
                    <div class="container">
                        <div class="modal-body">

                            <div class="modal-minititle">
                                새 비밀번호
                            </div>
                            <div class="modal-input">
                                <input id="password" name="password" type="text" class="form-control" placeholder=""
                                       aria-label="Username"
                                       aria-describedby="basic-addon1">
                            </div>

                            <div class="modal-minititle">
                                새 비밀번호 확인
                            </div>
                            <div class="modal-input">
                                <input id="newpassword" name="newpassword" type="text" class="form-control"
                                       placeholder="" aria-label="Username"
                                       aria-describedby="basic-addon1">
                            </div>


                            <div class="modal-minititle">
                                전화번호(-제외)
                            </div>
                            <div class="modal-input">
                                <input id="telnum" name="telnum" type="text" class="form-control"
                                       th:value="${user.telnum}"
                                       placeholder="전화번호를 입력하세요 (- 제외)"
                                       onfocus="if (this.value === '${user.telnum}') {this.value = '';}"
                                       aria-label="Username" aria-describedby="basic-addon1">
                            </div>


                            <div class="modal-minititle">현재 주소</div>
                            <div class="modal-input">
                                <input id="currentAddress" name="currentAddress" type="text" class="form-control"
                                       th:value="${user.address}" readonly>
                            </div>
                            <div class="modal-minititle">새 주소 검색</div>
                            <div class="modal-input">
                                <input type="text" class="form-control mb-2" id="zipp_code_id" name="zipp_code"
                                       maxlength="10" placeholder="우편번호" style="width: 50%; display: inline;">
                            </div>
                            <div class="modal-input">
                                <input type="button" id="searchAddressBtn" class="btn btn-primary"
                                       value="우편번호 찾기" style="font-size: 12px;">
                            </div>
                            <div class="modal-input">
                                <input type="text" class="form-control mb-2" name="user_add1" id="UserAdd1"
                                       maxlength="40" placeholder="기본 주소를 입력하세요" required>
                            </div>
                            <div class="modal-input">
                                <input type="text" class="form-control" name="user_add2" id="UserAdd2" maxlength="40" placeholder="상세 주소를 입력하세요">
                            </div>
                        </div>
                        <div class="modal-footer">
                            <a href="#" data-dismiss="modal" class="btn btn-primary" onclick="updateUserInfo()">수정</a>
                            <a href="#" data-dismiss="modal" class="btn btn-primary" onclick="showModal('deleteModal')">탈퇴</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</form>

<!--탈퇴 모달 창-->
<div id="deleteModal" layout:fragment="modal50" class="modal">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <span class="close" onclick="closeModal('deleteModal')">&times;</span>
            <div class="modal-header">
                <h1 class="modal-title fs-5" id="exampleModalLabel">탈퇴</h1>
            </div>
            <div class="modal-body">
                탈퇴하시겠습니까?
                <br>
                탈퇴 후, 해당 계정은 복구되지 않습니다.
            </div>

            <div class="modal-footer">
                <a href="#" data-dismiss="modal" class="btn btn-primary" onclick="deleteAccount()">확인</a>
                <a href="#" data-dismiss="modal" class="btn btn-secondary" onclick="goBack()">취소</a>
            </div>
        </div>
    </div>
</div>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script src="/js/myInfo.js" th:src="@{/js/myInfo.js}"></script>
</body>
</html>