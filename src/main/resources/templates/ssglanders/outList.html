<!DOCTYPE html>
<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:th="http://www.thymeleaf.org"
      layout:decorate="~{layout/layout.html}">
<head>

    <script th:src="@{https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js}"
            integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
            crossorigin="anonymous"></script>
    <script th:src="@{https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js}"
            integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
            crossorigin="anonymous"></script>
    <link th:href="@{/css/out.css}" rel="stylesheet"/>
    <script th:src="@{/js/out.js}"></script>
    <!--    테이블관련-->
    <!--    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">-->
    <!--    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>-->

</head>


<div class="main" layout:fragment="content">
    <div class="main-background"></div>
    <!--    <form action="/ssglanders/outList" method="get">-->
    <!--        <input type="hidden" name="size" th:value="${pageRequestDTO.size}">-->
    <!--        <div class="mb-3">-->
    <!--            <input type="checkbox" name="finished" th:checked="${pageRequestDTO.finished}">완료여부-->
    <!--        </div>-->
    <!--        <div class="mb-3">-->
    <!--            <input type="checkbox" name="types" value="t" th:checked="${pageRequestDTO.checkType('t')}">제목-->
    <!--            <input type="checkbox" name="types" value="w" th:checked="${pageRequestDTO.checkType('w')}">작성자-->
    <!--            <input type="text" name="keyword" class="form-control" th:value="${pageRequestDTO.keyword}">-->
    <!--        </div>-->
    <!--        <div class="input-group mb-3 dueDateDiv">-->
    <!--            <input type="date" name="from" class="form-control" th:value="${pageRequestDTO.from}">-->
    <!--            <input type="date" name="to" class="form-control" th:value="${pageRequestDTO.to}">-->
    <!--        </div>-->
    <!--        <div class="input-group mb-3">-->
    <!--            <div class="float-end">-->
    <!--                <button class="btn btn-primary" type="submit">Search</button>-->
    <!--                <button class="btn btn-info clearBtn" type="reset">Clear</button>-->
    <!--            </div>-->
    <!--        </div>-->
    <!--    </form>-->


    <div class="main-box">
        <h1>출고 현황</h1>
        <div class="main-stateboxes">

            <div class="input-bigbox">
                <div class="search-toggle">
                    <select class="form-select" aria-label="Default select example">
                        <option selected>전체</option>
                        <option value="1">번호</option>
                        <option value="2">상품명</option>
                    </select>
                </div>
                <div class="input-box">
                    <div class="input-group mb-3">
                        <input type="text" class="form-control" placeholder="" aria-label="Username"
                               aria-describedby="basic-addon1">
                    </div>
                </div>
                <div class="input-btn">
                    <button type="button" class="btn btn-primary">검색</button>
                </div>
            </div>


            <div class="coming-btn">
                <!-- <div class="incoming-btn">
                    <button type="button" class="btn btn-primary">출고승인확인</button>
                </div>
                <div class="outcoming-btn">
                    <button type="button" class="btn btn-primary">입고승인확인</button>
                </div> -->
            </div>

        </div>
    </div>
    <div class="content-down">
    </div>

    <div class="table-way">


        <div class="main-detail">
            <h2>출고 현황</h2>
            <table>
                <thead>
                <tr>
                    <th>번호</th>
                    <th>상품명</th>
                    <th>수량</th>
                    <th>창고</th>
                    <th>요청일</th>
                    <th>승인여부</th>
                    <th>배송상태</th>
                </tr>
                </thead>
                <tbody onclick="handleRowClick(event)">
                <tr th:each="dto : ${responseDTO.dtoList}" th:attr="data-tno=${dto.oid}">
                    <td scope="row"><span th:text="${dto.oid}"></span></td>
                    <td>
                        <form th:action="@{/ssglanders/outList}" th:method="post" >
                            <input type="hidden" name="oid" th:value="${dto.oid}">
                            <button type="submit">
                                <span th:text="${dto.name}"></span>
                            </button>
                        </form>
                    </td>
                    <td><span th:text="${dto.quantity}"></span></td>
                    <td><span th:text="${dto.warehousetype}"></span></td>
                    <td><span th:text="${dto.date}"></span></td>
                    <td><span th:text="${dto.approval}"></span></td>
                    <td><span th:text="${dto.status}"></span></td>
                </tr>

                </tbody>
            </table>

            <div class="float-end">
                <ul class="pagination flex-wrap">
                    <li class="page-item" th:if="${responseDTO.prev}">
                        <a class="page-link" th:href="@{/ssglanders/outList(page=${responseDTO.start - 1})}"
                           th:data-num="${responseDTO.start - 1}">Previous</a>
                    </li>

                    <th:block th:each="num : ${#numbers.sequence(responseDTO.start, responseDTO.end)}">
                        <li class="page-item" th:class="${responseDTO.page == num ? 'active' : ''}">
                            <a class="page-link" th:href="@{/ssglanders/outList(page=${num})}" th:data-num="${num}"
                               th:text="${num}"></a>
                        </li>
                    </th:block>

                    <li class="page-item" th:if="${responseDTO.next}">
                        <a class="page-link" th:href="@{/ssglanders/outList(page=${responseDTO.end + 1})}"
                           th:data-num="${responseDTO.end + 1}">Next</a>
                    </li>
                </ul>


            </div>


        </div>

        <!-- 상세정보 -->
        <div class="right">
            <div class="right-minititle">
                상품정보
            </div>
            <div class="right-div">
                <div class="right-text">
                    상품명
                </div>
                <div class="right-input">
                    <input th:if="${detail == null}" type="text" class="form-control" placeholder=""
                           aria-label="Username"
                           aria-describedby="basic-addon1">
                    <input th:if="${detail != null}" type="text" class="form-control"
                           aria-describedby="basic-addon1" th:value="${detail.name}">

                </div>

            </div>
            <div class="right-div">
                <div class="right-text">
                    수 &nbsp; 량
                </div>
                <div class="right-input">
                    <input th:if="${detail == null}" type="text" class="form-control" placeholder=""
                           aria-label="Username"
                           aria-describedby="basic-addon1">
                    <input th:if="${detail != null}" type="number" class="form-control"
                           aria-describedby="basic-addon1" th:value="${detail.quantity}">


                </div>
            </div>
            <div class="right-div">
                <div class="right-text">
                    창 &nbsp; 고
                </div>
                <div class="right-input">
                    <input th:if="${detail == null}" type="text" class="form-control"
                           aria-label="Username"
                           aria-describedby="basic-addon1">
                    <input th:if="${detail != null}" type="text" class="form-control"
                           aria-describedby="basic-addon1" th:value="${detail.warehousetype}">
                </div>
            </div>
            <div class="right-div">
                <div class="right-text">
                    대분류
                </div>
                <div class="right-input">
                    <input th:if="${detail == null}" type="text" class="form-control" placeholder=""
                           aria-label="Username"
                           aria-describedby="basic-addon1">
                    <input th:if="${detail != null}" type="text" class="form-control"
                           aria-describedby="basic-addon1" th:value="${detail.firstcategory}">
                </div>
            </div>
            <div class="right-div">
                <div class="right-text">
                    중분류
                </div>
                <div class="right-input">
                    <input th:if="${detail == null}" type="text" class="form-control" placeholder=""
                           aria-label="Username"
                           aria-describedby="basic-addon1">
                    <input th:if="${detail != null}" type="text" class="form-control"
                           aria-describedby="basic-addon1" th:value="${detail.secondcategory}">
                </div>
            </div>
            <div class="right-div">
                <div class="right-text">
                    소분류
                </div>
                <div class="right-input">
                    <input th:if="${detail == null}" type="text" class="form-control" placeholder=""
                           aria-label="Username"
                           aria-describedby="basic-addon1">
                    <input th:if="${detail != null}" type="text" class="form-control"
                           aria-describedby="basic-addon1" th:value="${detail.thirdcategory}">
                </div>
            </div>

            <div class="right-minititle">
                운송장 정보
            </div>
            <div class="right-div">
                <div class="right-text">
                    목 적 &nbsp;지
                </div>
                <div class="right-input">
                    <input th:if="${detail == null}" type="text" class="form-control" placeholder=""
                           aria-label="Username"
                           aria-describedby="basic-addon1">
                    <input th:if="${detail != null}" type="text" class="form-control"
                           aria-describedby="basic-addon1" th:value="${detail.destination}">
                </div>
            </div>
            <div class="right-div">
                <div class="right-text">
                    승인날짜
                </div>
                <!-- <div class="input-group mb-3 dueDateDiv">
                    <input type="date" name="from" class="form-control" value="${pageRequestDTO.from}">

                </div> -->
                <div class="right-input">
                    <input th:if="${detail == null}" type="text" class="form-control" placeholder=""
                           aria-label="Username"
                           aria-describedby="basic-addon1">
                    <input th:if="${detail != null}" type="text" class="form-control"
                           aria-describedby="basic-addon1" th:value="${detail.date}">

<!--                    <input type="date" name="from" class="form-control" value="${pageRequestDTO.from}">-->
                    <!-- <input type="text" class="form-control" placeholder="" aria-label="Username"
                        aria-describedby="basic-addon1"> -->
                </div>
            </div>
            <div class="right-div">
                <div class="right-text">
                    운송업체
                </div>
                <div class="right-input">
                    <input th:if="${detail == null || detail.sname == null}" type="text" class="form-control" placeholder=""
                           aria-label="Username" aria-describedby="basic-addon1" value="없음">
                    <input th:if="${detail != null && detail.sname != null}" type="text" class="form-control"
                           aria-describedby="basic-addon1" th:value="${detail.sname}">
                </div>
            </div>
            <div class="right-div">
                <div class="right-text-qr">
                    QR 코드
                </div>
                <div class="right-input">
                    <div class="qr-img-div">
                        <img class="qr-img" th:src="@{/images/qrCode.png}" alt="errorimg"/>
                    </div>
                </div>
            </div>
            <div class="right-minititle">
                배송 상태
            </div>
            <div class="right-div">
                <div class="right-text-besong">
                    배송상태
                </div>
                <div class="select-toggle">
                    <div class="toggle-warehouse">
                        <select class="form-select" aria-label="Default select example">
                            <option selected>배송상태 선택</option>
                            <option value="1">출고전</option>
                            <option value="2">출고후</option>
                        </select>
                    </div>
                </div>
            </div>
            <div class="right-div-btn">
                <div class="update-btn">
                    <button type="button" class="btn btn-primary" data-bs-toggle="modal"
                            data-bs-target="#exampleModal2">
                        운송장 수정
                    </button>
                </div>
                <div class="delete-btn">
                    <button type="button" class="btn btn-primary" data-bs-toggle="modal"
                            data-bs-target="#exampleModal3">
                        출고 취소
                    </button>
                </div>
            </div>

        </div>

    </div>


</div>

<!--수정 Modal -->

<div class="modal fade" id="exampleModal2" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true"
     layout:fragment="modal1">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title fs-5" id="exampleModalLabel1">운송장 정보 수정</h1>
            </div>
            <div class="modal-body">
                수정할 정보를 입력해 주세요.
            </div>
            <div class="modal-minititle">
                운송장 정보
            </div>
            <div class="right-div">

                <div class="modal-input">
                    <input type="text" class="form-control" placeholder="" aria-label="Username"
                           aria-describedby="basic-addon1">
                </div>
            </div>
            <div class="modal-minititle">
                승인 날짜
            </div>
            <div class="right-div">
                <div class="modal-input">
                    <input type="date" name="from" class="form-control" value="${pageRequestDTO.from}">
                </div>

            </div>
            <div class="modal-minititle">
                운송업체
            </div>


            <div class="select-toggle-way-modal">
                <div class="right-div">
                    <select class="form-select" aria-label="Default select example">
                        <option selected>한진택배</option>
                        <option value="1">로젠택배</option>
                        <option value="2">우체국택배</option>
                        <option value="3">대한통운</option>
                    </select>
                </div>
            </div>


            <div class="modal-footer">
                <button type="button" class="btn btn-primary">확인</button>
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">취소</button>

            </div>
        </div>

    </div>
</div>


<!-- 취소하기 Modal -->
<div class="modal fade" id="exampleModal3" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true"
     layout:fragment="modal">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title fs-5" id="exampleModalLabel2">정말 취소하시겠습니까?</h1>

            </div>
            <div class="modal-body">
                취소하면 다시 등록해야합니다.
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary">확인</button>
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">취소</button>

            </div>
        </div>
    </div>
</div>



